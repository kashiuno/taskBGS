# Тестовое задание на вакансию backend-разработчик BGSGroup

## Задание

Создать API-приложение для управления участниками мероприятия.

Участник содержит поля имя/фамилия/email и привязан к мероприятию
Мероприятие содержит поля название/дата проведения/город (для них api не требуется)

### Возможности:

1.    Добавлять/получать/изменять/удалять участников через http запрос
2.    Фильтрация данных при запросе (возвращать только участников определенного мероприятия)

### Требования:

1.    Использование фреймворка lumen/laravel (можно использовать любые дополнительные пакеты)
2.    Доступ к API закрыт напрямую
3.    Должны быть unit тесты (все покрывать необязательно)
4.    Формат возвращаемых данных - json
5.    Мероприятия уже существуют в базе при запуске приложения
6.    При успешном создании нового участника эмулируется отправка email через очередь (можно писать в лог)
7.    Участник уникален по email

### Результат:

Ссылка на git-репозиторий, содержащий приложение, инструкции для его запуска, инструкции по работе с API
Дополнительное задание (необязательно)
Приложение и его составляющие запускаются внутри docker контейнеров

### Инструкция для запуска приложения:
1. Склонировать репозиторий в папку проекта;
2. В папке набрать в консоли composer install - установит все зависимости для проекта;
2. Настройка .env для соединения с базой данных и использования драйвера очереди;
3. Генерация ключа: php artisan key:generate;
4. Запуск миграций: php artisan migrate;
5. Запуск seed'ов базы данных для заполнения тестовыми данными php artisan db:seed
6. В логах выведется токен для доступа к api. Добавляем его к заголовкам в виде: 'Authorization' : 'Bearer <api_token>';
7. Также следует указать заголовки 'Content-Type' : 'application/json' и 'Accept' : 'application/json'
8. Запускаем сервер: php artisan serve;
9. Запускаем queue worker: php artisan queue:work;
9 Готово!

### Доступные методы:

1. GET /api/participants выводит участников в список, по умолчанию стоит ограничение на 20 записей. Можно указать в GET параметрах запроса amount=<число> для вывода определенного количества участников. Также доступна фильтрация по событию через GET параметр event=<event_id>;
2. GET /api/participants/{participant} выводит участника по его id;
3. POST /api/participants позволяет создать участника. Тело запроса: {'name': '<Имя>', 'surname': '<Фамилия>', 'email': '<email>', 'event_id': '<event_id>'};
4. PUT/PATCH /api/participants/{participant} Изменияет участника. Обязательно передавать все поля в GET параметрх запроса. Параметры идентичны созданию участника.
5. DELETE /api/participants/{participant} Удаляет участника по его id.
    
### PS. 
Добавление участника запускает имитацию отправки сообщения через очередь и пишет в лог.



